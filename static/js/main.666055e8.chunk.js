(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[0],{137:function(e){e.exports=JSON.parse('{"version":8,"name":"Basic","metadata":{"mapbox:autocomposite":true},"sources":{"mapbox":{"url":"mapbox://mapbox.mapbox-streets-v7","type":"vector"}},"sprite":"mapbox://sprites/mapbox/basic-v8","glyphs":"mapbox://fonts/mapbox/{fontstack}/{range}.pbf","layers":[{"id":"background","type":"background","paint":{"background-color":"#dedede"},"interactive":true},{"id":"landuse_overlay_national_park","type":"fill","source":"mapbox","source-layer":"landuse_overlay","filter":["==","class","national_park"],"paint":{"fill-color":"#d2edae","fill-opacity":0.75},"interactive":true},{"id":"landuse_park","type":"fill","source":"mapbox","source-layer":"landuse","filter":["==","class","park"],"paint":{"fill-color":"#d2edae"},"interactive":true},{"id":"waterway","type":"line","source":"mapbox","source-layer":"waterway","filter":["all",["==","$type","LineString"],["in","class","river","canal"]],"paint":{"line-color":"#a0cfdf","line-width":{"base":1.4,"stops":[[8,0.5],[20,15]]}},"interactive":true},{"id":"water","type":"fill","source":"mapbox","source-layer":"water","paint":{"fill-color":"#a0cfdf"},"interactive":true},{"id":"building","type":"fill","source":"mapbox","source-layer":"building","paint":{"fill-color":"#d6d6d6"},"interactive":true},{"interactive":true,"layout":{"line-cap":"butt","line-join":"miter"},"filter":["all",["==","$type","LineString"],["all",["in","class","motorway_link","street","street_limited","service","track","pedestrian","path","link"],["==","structure","tunnel"]]],"type":"line","source":"mapbox","id":"tunnel_minor","paint":{"line-color":"#efefef","line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]},"line-dasharray":[0.36,0.18]},"source-layer":"road"},{"interactive":true,"layout":{"line-cap":"butt","line-join":"miter"},"filter":["all",["==","$type","LineString"],["all",["in","class","motorway","primary","secondary","tertiary","trunk"],["==","structure","tunnel"]]],"type":"line","source":"mapbox","id":"tunnel_major","paint":{"line-color":"#fff","line-width":{"base":1.4,"stops":[[6,0.5],[20,30]]},"line-dasharray":[0.28,0.14]},"source-layer":"road"},{"interactive":true,"layout":{"line-cap":"round","line-join":"round"},"filter":["all",["==","$type","LineString"],["all",["in","class","motorway_link","street","street_limited","service","track","pedestrian","path","link"],["in","structure","none","ford"]]],"type":"line","source":"mapbox","id":"road_minor","paint":{"line-color":"#efefef","line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}},"source-layer":"road"},{"interactive":true,"layout":{"line-cap":"round","line-join":"round"},"filter":["all",["==","$type","LineString"],["all",["in","class","motorway","primary","secondary","tertiary","trunk"],["in","structure","none","ford"]]],"type":"line","source":"mapbox","id":"road_major","paint":{"line-color":"#fff","line-width":{"base":1.4,"stops":[[6,0.5],[20,30]]}},"source-layer":"road"},{"interactive":true,"layout":{"line-cap":"butt","line-join":"miter"},"filter":["all",["==","$type","LineString"],["all",["in","class","motorway_link","street","street_limited","service","track","pedestrian","path","link"],["==","structure","bridge"]]],"type":"line","source":"mapbox","id":"bridge_minor case","paint":{"line-color":"#dedede","line-width":{"base":1.6,"stops":[[12,0.5],[20,10]]},"line-gap-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}},"source-layer":"road"},{"interactive":true,"layout":{"line-cap":"butt","line-join":"miter"},"filter":["all",["==","$type","LineString"],["all",["in","class","motorway","primary","secondary","tertiary","trunk"],["==","structure","bridge"]]],"type":"line","source":"mapbox","id":"bridge_major case","paint":{"line-color":"#dedede","line-width":{"base":1.6,"stops":[[12,0.5],[20,10]]},"line-gap-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}},"source-layer":"road"},{"interactive":true,"layout":{"line-cap":"round","line-join":"round"},"filter":["all",["==","$type","LineString"],["all",["in","class","motorway_link","street","street_limited","service","track","pedestrian","path","link"],["==","structure","bridge"]]],"type":"line","source":"mapbox","id":"bridge_minor","paint":{"line-color":"#efefef","line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}},"source-layer":"road"},{"interactive":true,"layout":{"line-cap":"round","line-join":"round"},"filter":["all",["==","$type","LineString"],["all",["in","class","motorway","primary","secondary","tertiary","trunk"],["==","structure","bridge"]]],"type":"line","source":"mapbox","id":"bridge_major","paint":{"line-color":"#fff","line-width":{"base":1.4,"stops":[[6,0.5],[20,30]]}},"source-layer":"road"},{"interactive":true,"layout":{"line-cap":"round","line-join":"round"},"filter":["all",["==","$type","LineString"],["all",["<=","admin_level",2],["==","maritime",0]]],"type":"line","source":"mapbox","id":"admin_country","paint":{"line-color":"#8b8a8a","line-width":{"base":1.3,"stops":[[3,0.5],[22,15]]}},"source-layer":"admin"},{"interactive":true,"minzoom":5,"layout":{"icon-image":"{maki}-11","text-offset":[0,0.5],"text-field":"{name_en}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-max-width":8,"text-anchor":"top","text-size":11,"icon-size":1},"filter":["all",["==","$type","Point"],["all",["==","scalerank",1],["==","localrank",1]]],"type":"symbol","source":"mapbox","id":"poi_label","paint":{"text-color":"#666","text-halo-width":1,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-blur":1},"source-layer":"poi_label"},{"interactive":true,"layout":{"symbol-placement":"line","text-field":"{name_en}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-transform":"uppercase","text-letter-spacing":0.1,"text-size":{"base":1.4,"stops":[[10,8],[20,14]]}},"filter":["all",["==","$type","LineString"],["in","class","motorway","primary","secondary","tertiary","trunk"]],"type":"symbol","source":"mapbox","id":"road_major_label","paint":{"text-color":"#666","text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":2},"source-layer":"road_label"},{"interactive":true,"minzoom":8,"layout":{"text-field":"{name_en}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-max-width":6,"text-size":{"stops":[[6,12],[12,16]]}},"filter":["all",["==","$type","Point"],["in","type","town","village","hamlet","suburb","neighbourhood","island"]],"type":"symbol","source":"mapbox","id":"place_label_other","paint":{"text-color":"#666","text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":1,"text-halo-blur":1},"source-layer":"place_label"},{"interactive":true,"layout":{"text-field":"{name_en}","text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-max-width":10,"text-size":{"stops":[[3,12],[8,16]]}},"maxzoom":16,"filter":["all",["==","$type","Point"],["==","type","city"]],"type":"symbol","source":"mapbox","id":"place_label_city","paint":{"text-color":"#666","text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":1,"text-halo-blur":1},"source-layer":"place_label"},{"interactive":true,"layout":{"text-field":"{name_en}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-max-width":10,"text-size":{"stops":[[3,14],[8,22]]}},"maxzoom":12,"filter":["==","$type","Point"],"type":"symbol","source":"mapbox","id":"country_label","paint":{"text-color":"#666","text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":1,"text-halo-blur":1},"source-layer":"country_label"}]}')},140:function(e,t,a){e.exports=a(233)},145:function(e,t,a){},146:function(e,t,a){},153:function(e,t,a){},228:function(e,t,a){},230:function(e,t,a){},233:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(15),o=a.n(r),l=(a(145),a(19)),c=a(22),s=a(21),u=a(20),m=a(58),p=a(24),d=(a(146),function(){return i.a.createElement("div",null,i.a.createElement("span",{id:"icon"},i.a.createElement("a",{style:{color:"inherit"},href:"https://github.com/oddeirikigland"},i.a.createElement("i",{className:"fab fa-github mdi-dark"}))),i.a.createElement("span",{id:"icon"},i.a.createElement("a",{style:{color:"inherit"},href:"https://www.linkedin.com/in/odd-eirik-igland-342172155"},i.a.createElement("i",{className:"fab fa-linkedin"}))))}),f=a(68),b=a(80),h=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement(f.a,{bg:"light",expand:"lg"},i.a.createElement(f.a.Brand,null,i.a.createElement(m.b,{to:"/"},"Portfolio")),i.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),i.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},i.a.createElement(b.a,{className:"mr-auto"},i.a.createElement(b.a.Link,null,i.a.createElement(m.b,{to:"/strava"},"Segment Analyzer")),i.a.createElement(b.a.Link,null,i.a.createElement(m.b,{to:"/city"},"Available City bikes")))))}}]),a}(n.Component),y=(a(153),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{id:"home"},i.a.createElement(h,null),i.a.createElement("div",{id:"container"},i.a.createElement(d,null)))}}]),a}(n.Component)),g=a(29),v=a(129),S=a(64),E=a.n(S),_=a(98),O=a(131),k=a.n(O),w=a(60),x=a(35),j=a(34),C=a(66),A=a(138),N=a(23),T=a(133),D=a.n(T),P=(a(113),a(101)),L=(a(228),a(229),function(e){var t=e.children;return i.a.createElement("div",{className:"control-panel"},t)}),z=Object(P.a)(P.b);function U(e){return"".concat(e," km")}function I(e){return"".concat(e," %")}var M=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e))._renderButton=function(e,t){return i.a.createElement("div",{key:"btn-".concat(t),className:"input"},i.a.createElement("input",{type:"radio",name:"activity",id:"activity-".concat(t),defaultChecked:"All"===e.type,onClick:function(){return n.props.filterActivityType(e)}}),i.a.createElement("label",{htmlFor:"city-".concat(t)},e.type))},n.state={activity:[{type:"All"},{type:"Run"},{type:"Ride"}]},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.containerComponent||L;return i.a.createElement(e,null,i.a.createElement("h6",null,"FIND EASISEST SEGMENTS AND GO FOR KOM"),"They're ranked from green to red. Press a county to zoom in.",i.a.createElement("p",null,"Filter segment on type of sport"),this.state.activity.map(this._renderButton),"Shows segments in ","".concat(this.props.segmentDistance)," km from where you click",i.a.createElement(z,{value:this.props.segmentDistance,onChange:this.props.onSliderChange,onAfterChange:this.props.onAfterSliderChange,tipFormatter:U,min:2,max:1e4}),"Showing ","".concat(this.props.numberOfSegments)," % of the relevant segments",i.a.createElement(z,{value:this.props.numberOfSegments,onChange:this.props.onSliderChangeNumberSegments,onAfterChange:this.props.onAfterSliderChangeNumberSegments,tipFormatter:I,min:1,max:100}))}}]),a}(n.PureComponent),B={cursor:"pointer",stroke:"none"},$=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.size,a=void 0===t?20:t,n=e.onClick;return i.a.createElement("svg",{height:a,viewBox:"0 0 24 24",style:Object(w.a)(Object(w.a)({},B),{},{fill:"rgb("+2.56*(100-this.props.colorPercent)+","+2.56*this.props.colorPercent+",0)",transform:"translate(".concat(-a/2,"px,").concat(-a,"px)")}),onClick:n},i.a.createElement("path",{d:"M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z"}))}}]),a}(n.PureComponent),R=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.info;return i.a.createElement("div",null,i.a.createElement("div",null,e.name," |"," ",i.a.createElement("a",{target:"_new",href:"https://www.strava.com/segments/".concat(e._id)},"View on Strava")),i.a.createElement("p",null,"Star count ".concat(e.star_count)),i.a.createElement("p",null,"Efforts ".concat(e.efforts)),i.a.createElement("p",null,"Info updated ".concat(function(e){var t=e.getHours(),a=e.getMinutes(),n=e.getDate(),i=e.getMonth(),r=e.getFullYear();return"".concat(t,":").concat(a," ").concat(n,". ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][i]," ").concat(r)}(new Date(e.time_info_added)))))}}]),a}(n.PureComponent),F=a(137),W=Object(C.a)({id:"data",source:"county",type:"fill",interactive:!0,paint:{"fill-color":["match",["get","fylkesnummer"],["01"],"#e6194b",["02"],"#3cb44b",["04"],"#4363d8",["05"],"#f58231",["06"],"#911eb4",["07"],"#46f0f0",["08"],"#f032e6",["09"],"#bcf60c",["10"],"#fabebe",["11"],"#008080",["12"],"#e6beff",["13"],"#9a6324",["14"],"#fffac8",["15"],"#800000",["16"],"#aaffc3",["17"],"#808000",["18"],"#ffd8b1",["19"],"#000075",["20"],"#ffe119",["50"],"#808080","#ffffff"],"fill-opacity":.3}}),K=Object(C.a)(F),V={position:"absolute",top:0,left:0,padding:"10px"},H={position:"absolute",top:36,left:0,margin:10},J={position:"absolute",top:72,left:0,padding:"10px"},q=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e))._loadData=function(e){var t=K.setIn(["sources","county"],Object(C.a)({type:"geojson",data:e})).set("layers",K.get("layers").push(W));n.setState({data:e,mapStyle:t})},n.updateSegmentView=function(e){var t=e.type;n.setState({activityView:t},(function(){n.segmentUpdate()}))},n.onClickMap=function(e){var t=e.features[0];if(t){var a=parseInt(t.properties.fylkesnummer),i=D()(t),r=Object(x.a)(i,4),o=r[0],l=r[1],c=r[2],s=r[3],u=new N.a(n.state.viewport).fitBounds([[o,l],[c,s]],{padding:40}),m=u.longitude,p=u.latitude,d=u.zoom;n.setState({viewport:Object(w.a)(Object(w.a)({},n.state.viewport),{},{longitude:m,latitude:p,zoom:d,transitionInterpolator:new j.c({around:[e.offsetCenter.x,e.offsetCenter.y]}),transitionDuration:1e3}),focusCountyNumber:a}),n.segmentUpdate()}},n.onSliderChange=function(e){n.setState({segmentDistance:e})},n.onAfterSliderChange=function(){n.segmentUpdate()},n.onSliderChangeNumberSegments=function(e){n.setState({numberOfSegments:e})},n.onAfterSliderChangeNumberSegments=function(){n.segmentUpdate()},n.state={viewport:{width:"100%",height:"100vh",latitude:65,longitude:15,zoom:3.5},popupInfo:null,activityView:"All",mapStyle:K,data:null,segmentDistance:5e3,focusCountyNumber:0,numberOfSegments:100},n.onSliderChange=n.onSliderChange.bind(Object(g.a)(n)),n.onAfterSliderChange=n.onAfterSliderChange.bind(Object(g.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.toogleLoading(),Object(A.a)("https://segment-analyzer.herokuapp.com/map/countyNorway",(function(t,a){e.props.toogleLoading(),t||(e._loadData(a),e.segmentUpdate())}))}},{key:"_renderPopup",value:function(){var e=this,t=this.state.popupInfo;return t&&i.a.createElement(j.f,{tipSize:5,anchor:"top",longitude:t.start_longitude,latitude:t.start_latitude,closeOnClick:!1,onClose:function(){return e.setState({popupInfo:null})}},i.a.createElement(R,{info:t}))}},{key:"segmentUpdate",value:function(){this.props.segmentApiUpdate(this.state.focusCountyNumber,this.state.segmentDistance,this.state.viewport.latitude,this.state.viewport.longitude,this.state.activityView,this.state.numberOfSegments)}},{key:"render",value:function(){var e=this;return i.a.createElement(j.g,Object.assign({},this.state.viewport,{mapStyle:this.state.mapStyle,mapboxApiAccessToken:Object({NODE_ENV:"production",PUBLIC_URL:"/portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAPBOX_ACCESS_TOKEN,onClick:this.onClickMap,onViewportChange:function(t){return e.setState({viewport:t})}}),this.props.segments.map((function(t,a){return i.a.createElement(j.d,{key:a,latitude:t.start_latitude,longitude:t.start_longitude,offsetLeft:-20,offsetTop:-10},i.a.createElement($,{onClick:function(){return e.setState({popupInfo:t})},colorPercent:t.color}))})),this._renderPopup(),i.a.createElement("div",{className:"fullscreen",style:V},i.a.createElement(j.a,null)),i.a.createElement(j.b,{style:H,positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0}),i.a.createElement("div",{className:"nav",style:J},i.a.createElement(j.e,null)),i.a.createElement(M,{containerComponent:this.props.containerComponent,filterActivityType:this.updateSegmentView,segmentDistance:this.state.segmentDistance,onSliderChange:this.onSliderChange,onAfterSliderChange:this.onAfterSliderChange,numberOfSegments:this.state.numberOfSegments,onSliderChangeNumberSegments:this.onSliderChangeNumberSegments,onAfterSliderChangeNumberSegments:this.onAfterSliderChangeNumberSegments}))}}]),a}(n.Component);function G(){var e=Object(v.a)(["\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  position: absolute;\n  z-index: 99;\n"]);return G=function(){return e},e}var X,Y,Q,Z,ee,te,ae,ne={width:"100%",height:"100%"},ie=Object(_.css)(G()),re=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={segments:[],loading:!1},n.get_segments=n.get_segments.bind(Object(g.a)(n)),n.segmentApiUpdate=n.segmentApiUpdate.bind(Object(g.a)(n)),n.toogleLoading=n.toogleLoading.bind(Object(g.a)(n)),n}return Object(c.a)(a,[{key:"get_segments",value:function(e,t,a,n,i,r){var o=this;this.setState({loading:!0}),E.a.get("https://segment-analyzer.herokuapp.com/strava_segments?county_number=".concat(e,"&segment_distance=").concat(t,"&latitude=").concat(a,"&longitude=").concat(n,"&activity_view=").concat(i,"&number_of_segments=").concat(r)).then((function(e){var t=e.data;o.setState({segments:t,loading:!1})}))}},{key:"segmentApiUpdate",value:function(e,t,a,n,i,r){this.get_segments(e,t,a,n,i,r)}},{key:"toogleLoading",value:function(){this.setState({loading:!this.state.loading})}},{key:"render",value:function(){return i.a.createElement("div",{id:"segmentAnalyzer",style:ne},i.a.createElement(k.a,{css:ie,sizeUnit:"px",size:150,color:"#36D7B7",loading:this.state.loading}),i.a.createElement(q,{segments:this.state.segments,segmentApiUpdate:this.segmentApiUpdate,toogleLoading:this.toogleLoading}))}}]),a}(n.Component),oe=a(139),le=(a(230),function(){var e=Object(oe.a)({defaultValues:{exercise:"11"}}),t=e.handleSubmit,a=e.register,n=e.errors,r=e.watch,o=function(e){var t=e.item;return i.a.createElement("div",{className:"form-group row",key:t.name},i.a.createElement("label",{className:"control-label col-sm-2",htmlFor:t.name},t.name),i.a.createElement("div",{className:"col-sm-10"},i.a.createElement("input",{type:"text",className:"form-control",name:t,ref:a})),n.item&&n.item.message)},l=function(e){return e.list.map((function(e){return i.a.createElement(o,{item:e,key:e.name})}))};return i.a.createElement("form",{className:"form-horizontal",onSubmit:t((function(e){console.log(e)}))},i.a.createElement("fieldset",{className:"form-group"},i.a.createElement("div",{className:"row"},i.a.createElement("legend",{className:"col-form-label col-sm-2 pt-0"},"Exercise"),i.a.createElement("div",{className:"col-sm-10"},i.a.createElement("div",{className:"form-check"},i.a.createElement("input",{className:"form-check-input",type:"radio",name:"exercise",id:"11",value:"11",ref:a,defaultChecked:!0}),i.a.createElement("label",{className:"form-check-label",htmlFor:"11"},"11")),i.a.createElement("div",{className:"form-check"},i.a.createElement("input",{className:"form-check-input",type:"radio",name:"exercise",id:"12",value:"12",ref:a}),i.a.createElement("label",{className:"form-check-label",htmlFor:"12"},"12")),i.a.createElement("div",{className:"form-check disabled"},i.a.createElement("input",{className:"form-check-input",type:"radio",name:"exercise",id:"13",value:"13",ref:a}),i.a.createElement("label",{className:"form-check-label",htmlFor:"13"},"13"))))),i.a.createElement(l,{list:{11:[{name:"squat"},{name:"curl"}],12:[{name:"deadlift"},{name:"dance"}],13:[{name:"asd"}]}[r("exercise")]}),i.a.createElement("button",{type:"submit"},"Submit"))}),ce=a(40);function se(){requestAnimationFrame(se),te.rotation.x+=.05,te.rotation.y+=0,Q.render(Y,X)}var ue=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){(X=new ce.f(70,window.innerWidth/window.innerHeight,.01,10)).position.z=1,(Y=new ce.g).background=new ce.b("lightgray"),(ae=new ce.c(16777215)).position.set(0,20,10),Y.add(ae),Z=new ce.a(.1,.1,.1),ee=new ce.e,te=new ce.d(Z,ee),Y.add(te),(Q=new ce.h({antialias:!0})).setSize(window.innerWidth,window.innerHeight),document.body.appendChild(Q.domElement),se()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{ref:function(t){return e.mount=t}})}}]),a}(n.Component),me=a(51),pe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={viewport:{width:"100%",height:"100vh",latitude:63.42957,longitude:10.39844,zoom:12}},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement(j.g,Object.assign({},this.state.viewport,{mapStyle:this.props.mapStyle,mapboxApiAccessToken:Object({NODE_ENV:"production",PUBLIC_URL:"/portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAPBOX_ACCESS_TOKEN,onClick:this.props.onClick,onViewportChange:function(t){return e.setState({viewport:t})}}),this.props.children)}}]),a}(n.Component);var de=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={mapStyle:K},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement(pe,{mapStyle:this.state.mapStyle},this.props.stations.map((function(t,a){return i.a.createElement(j.d,{key:a,latitude:t.lat,longitude:t.lon},i.a.createElement($,{onClick:function(){return e.setState({popupInfo:t})},colorPercent:t.color}))})))}}]),a}(n.Component),fe=Object({NODE_ENV:"production",PUBLIC_URL:"/portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_CYCLE_IDENTIFIER,be={width:"100%",height:"100%"},he=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!1,stations:[],availability:[]},n.get_stations=n.get_stations.bind(Object(g.a)(n)),n.get_availability=n.get_availability.bind(Object(g.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.get_stations(),this.get_availability(),setInterval((function(){return e.get_availability()}),11e3)}},{key:"get_stations",value:function(){var e=this;E.a.get("https://gbfs.urbansharing.com/trondheimbysykkel.no/station_information.json",{headers:{"Client-Identifier":fe}}).then((function(t){var a=t.data.data.stations;e.setState({stations:a})})).catch((function(e){console.log("error 3 "+e)}))}},{key:"get_availability",value:function(){var e=this;E.a.get("https://gbfs.urbansharing.com/trondheimbysykkel.no/station_status.json",{headers:{"Client-Identifier":fe}}).then((function(t){var a=t.data.data.stations;e.setState({availability:a},(function(){return e.set_station_status()}))})).catch((function(e){console.log("error 3 "+e)}))}},{key:"set_station_status",value:function(){var e=this;this.setState((function(t){var a=Object(me.a)(t.stations);return e.state.availability.forEach((function(e){var t=100*e.num_bikes_available/e.num_docks_available,n=a.findIndex((function(t){return t.station_id===e.station_id}));"undefined"!==typeof a[n]&&(a[n].color=t)})),{stations:a}}))}},{key:"render",value:function(){return i.a.createElement("div",{id:"cityMonitor",style:be},i.a.createElement(de,{stations:this.state.stations}))}}]),a}(n.Component),ye=function(){return i.a.createElement("div",{style:{position:"absolute",width:"100%",top:"50%",textAlign:"center"}},"Siden du ser etter finnes ikke.")},ge=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement(m.a,{basename:"/portfolio"},i.a.createElement(p.c,null,i.a.createElement(p.a,{exact:!0,path:"/",component:y}),i.a.createElement(p.a,{path:"/strava",component:re}),i.a.createElement(p.a,{path:"/form",component:le}),i.a.createElement(p.a,{path:"/animation",component:ue}),i.a.createElement(p.a,{path:"/city",component:he}),i.a.createElement(p.a,{component:ye})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(232);o.a.render(i.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[140,1,2]]]);
//# sourceMappingURL=main.666055e8.chunk.js.map